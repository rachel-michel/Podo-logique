<div x-data="followUp()" class="row gy-5" x-on:init-patients.document="initData($event.detail.patients)">
  <div class="col-12 d-flex align-items-center gap-2">
    <label for="range" class="form-label mb-0">Afficher tous les patients dont la date du dernier suivi se situe</label>
    <select class="form-select w-auto" id="range" x-model="range">
      <option value="0-3">entre 0 et 3 mois</option>
      <option value="3-6">entre 3 et 6 mois</option>
      <option value="6-12">entre 6 et 12 mois</option>
      <option value="12+">après 12 mois</option>
    </select>
  </div>

  <table class="table table-striped table-hover">
    <colgroup>
      <col style="width: 40%" />
      <col style="width: 20%" />
      <col style="width: 20%" />
      <col style="width: 20%" />
    </colgroup>
    <thead>
      <tr>
        <th>Nom complet</th>
        <th>Téléphone</th>
        <th>Date du dernier suivi</th>
      </tr>
    </thead>
    <tbody>
      <template x-for="patient in getPatientsByDeliveryRange()" :key="patient.id">
        <tr>
          <td x-text="patient.gender + ' '+ patient.lastname + ' '+ patient.firstname"></td>
          <td x-text="patient.phoneNumber"></td>
          <td x-text="new Date(patient.lastDeliveryAt).toLocaleDateString('fr-FR')"></td>
          <td>
            <img
              src="assets/folder-open.png"
              alt="select patient icon"
              class="icon-table-select-patient"
              @click="onSelectPatient(patient)"
            />
          </td>
        </tr>
      </template>
    </tbody>
  </table>
</div>
